<style>
    /* CSS Tùy chỉnh cho Menu Admin đẹp hơn */
    .admin-dropdown-menu {
        border: none;
        border-radius: 12px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.15); /* Đổ bóng mềm mại */
        padding: 10px;
        min-width: 240px;
    }

    .admin-item {
        padding: 10px 15px;
        border-radius: 8px; /* Bo tròn góc từng mục */
        font-weight: 500;
        transition: all 0.2s ease-in-out; /* Hiệu ứng mượt */
        color: #5a5c69;
        display: flex;
        align-items: center;
        text-decoration: none;
    }

    .admin-item i {
        width: 25px; /* Cố định chiều rộng icon để chữ thẳng hàng */
        font-size: 1.1rem;
        margin-right: 10px;
    }

    /* Hiệu ứng riêng cho Gói tập (Màu Xanh dương) */
    .item-package:hover {
        background-color: #e7f1ff;
        color: #0d6efd;
        transform: translateX(5px);
    }

    /* Hiệu ứng riêng cho Bài tập (Màu Xanh lá) */
    .item-exercise:hover {
        background-color: #d1e7dd;
        color: #198754;
        transform: translateX(5px);
    }

    /* Hiệu ứng riêng cho Quy định (Màu Vàng cam) */
    .item-regulation:hover {
        background-color: #fff3cd;
        color: #ffc107;
        transform: translateX(5px);
    }

    /* Hiệu ứng riêng cho Thống kê (Màu Đỏ đô) */
    .item-stats:hover {
        background-color: #f8d7da;
        color: #dc3545;
        transform: translateX(5px);
    }

    /* Hiệu ứng riêng cho Nhân viên (Màu Xanh lơ) */
    .item-staff:hover {
        background-color: #e0f7fa;
        color: #00acc1;
        transform: translateX(5px);
    }

    .dropdown-divider {
        margin: 8px 0;
    }
</style>

<nav class="navbar navbar-expand-sm navbar-dark bg-dark sticky-top shadow-sm">
    <div class="container-fluid">
        <a class="navbar-brand font-weight-bold text-uppercase" href="/" style="letter-spacing: 1px;">
            <i class="fas fa-dumbbell text-primary"></i> Muscle Gym
        </a>

        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mynavbar">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="mynavbar">
            <ul class="navbar-nav me-auto">
                <li class="nav-item">
                    <a class="nav-link active" href="/">Trang chủ</a>
                </li>

                {% if current_user.is_authenticated %}

                    {% if current_user.role.name == 'ADMIN' %}
                    <li class="nav-item dropdown ms-2">
                        <a class="nav-link dropdown-toggle btn btn-outline-light text-warning border-0 fw-bold" href="#" role="button" data-bs-toggle="dropdown">
                            <i class="fas fa-user-shield"></i> Quản Trị
                        </a>
                        <ul class="dropdown-menu admin-dropdown-menu">
                            <li>
                                <a class="dropdown-item admin-item item-staff" href="/admin/staff">
                                    <i class="fas fa-users-cog text-info"></i> Quản lý Nhân viên
                                </a>
                            </li>
                            <li>
                                <a class="dropdown-item admin-item item-package" href="/admin/packages">
                                    <i class="fas fa-box-open text-primary"></i> Quản lý Gói tập
                                </a>
                            </li>
                            <li>
                                <a class="dropdown-item admin-item item-exercise" href="/admin/exercises">
                                    <i class="fas fa-dumbbell text-success"></i> Quản lý Bài tập
                                </a>
                            </li>
                            <li>
                                <a class="dropdown-item admin-item item-regulation" href="/admin/regulation">
                                    <i class="fas fa-cogs text-warning"></i> Cấu hình Quy định
                                </a>
                            </li>

                            <li><hr class="dropdown-divider"></li>

                            <li>
                                <a class="dropdown-item admin-item item-stats fw-bold" href="/admin/stats">
                                    <i class="fas fa-chart-line text-danger"></i> Báo cáo & Thống kê
                                </a>
                            </li>
                        </ul>
                    </li>
                    {% endif %}

                    {% if current_user.role.name == 'LETAN' %}
                    <li class="nav-item ms-2">
                        <a class="nav-link text-info fw-bold" href="/reception">
                            <i class="fas fa-id-card-alt"></i> Quầy Lễ Tân
                        </a>
                    </li>
                    {% endif %}

                </ul>

                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link disabled text-light" href="#">
                            Xin chào, <strong>{{ current_user.full_name }}</strong>
                        </a>
                    </li>
                    <li class="nav-item ms-2">
                        <a class="btn btn-danger btn-sm mt-1 rounded-pill px-3" href="/logout">
                            <i class="fas fa-sign-out-alt"></i> Đăng xuất
                        </a>
                    </li>
                </ul>

                {% else %}
                    </ul>
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="/login">Đăng nhập</a>
                        </li>
                        <li class="nav-item ms-2">
                            <a class="btn btn-primary rounded-pill px-4 fw-bold" href="/booking">
                                Đăng ký ngay <i class="fas fa-arrow-right ms-1"></i>
                            </a>
                        </li>
                    </ul>
                {% endif %}
        </div>
    </div>
</nav>