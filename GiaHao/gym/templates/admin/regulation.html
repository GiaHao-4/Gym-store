{% extends "layout/base.html" %}

{% block title %}Cấu hình Quy định - Muscle Gym{% endblock %}

{% block head %}
{{ super() }}
<style>
    :root { --reg-gold: #f6c23e; }
    body { background-color: #f8f9fc; }
    .reg-card {
        border: none;
        border-radius: 15px;
        transition: all 0.3s ease;
        border-top: 5px solid var(--reg-gold);
    }
    .reg-card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.1) !important; }
    .input-value {
        border-radius: 10px;
        border: 2px solid #eaecf4;
        font-weight: bold;
        text-align: center;
        font-size: 1.2rem;
        color: #4e73df;
    }
    .input-value:focus { border-color: var(--reg-gold); box-shadow: none; }
    .btn-update-reg {
        background-color: var(--reg-gold);
        color: white;
        border: none;
        font-weight: bold;
        border-radius: 10px;
        padding: 10px 20px;
    }
    .btn-update-reg:hover { background-color: #dda20a; color: white; }
</style>
{% endblock %}

{% block content %}
<div class="container py-5">
    <div class="d-flex justify-content-between align-items-center mb-5 border-start border-warning border-5 ps-3">
        <div>
            <h2 class="text-uppercase fw-bold m-0">⚙️ Cấu hình Quy định</h2>
            <p class="text-muted m-0 small">Thiết lập các tham số cốt lõi cho hệ thống phòng Gym</p>
        </div>
    </div>

    <div class="row g-4">
        {% if regulations %}
            {% for r in regulations %}
            <div class="col-md-6 col-lg-4">
                <div class="card reg-card shadow-sm h-100 p-4">
                    <div class="d-flex align-items-center mb-3">
                        <div class="bg-warning text-white p-3 rounded-circle me-3">
                            <i class="fas fa-sliders-h fa-lg"></i>
                        </div>
                        <h5 class="fw-bold m-0 text-dark">{{ r.name }}</h5>
                    </div>

                    <p class="text-muted small mb-4" style="min-height: 45px;">
                        {{ r.description if r.description else "Thông số ảnh hưởng đến tính toán và quy tắc của hệ thống." }}
                    </p>

                    <form method="post">
                        <input type="hidden" name="id" value="{{ r.id }}">
                        <div class="mb-3">
                            <input type="number" name="value" class="form-control input-value" value="{{ r.value }}">
                        </div>
                        <button type="submit" class="btn btn-update-reg w-100">
                            <i class="fas fa-sync-alt me-2"></i>CẬP NHẬT NGAY
                        </button>
                    </form>
                </div>
            </div>
            {% endfor %}
        {% else %}
            <div class="col-12 text-center p-5 bg-white rounded shadow-sm">
                <i class="fas fa-database fa-3x text-muted mb-3"></i>
                <h5 class="text-muted">Chưa có quy định nào được thiết lập.</h5>
                <p class="small text-secondary">Vui lòng kiểm tra dữ liệu trong bảng 'regulation'.</p>
            </div>
        {% endif %}
    </div>
</div>
{% endblock %}